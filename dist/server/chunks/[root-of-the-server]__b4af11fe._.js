module.exports = {

"[project]/mgnrega-district-dashboard-main/mgnrega-district-dashboard-main/.next-internal/server/app/api/mgnrega/route/actions.js [app-rsc] (server actions loader, ecmascript)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
}}),
"[externals]/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-route-turbo.runtime.dev.js, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("next/dist/compiled/next-server/app-route-turbo.runtime.dev.js", () => require("next/dist/compiled/next-server/app-route-turbo.runtime.dev.js"));

module.exports = mod;
}}),
"[externals]/next/dist/compiled/@opentelemetry/api [external] (next/dist/compiled/@opentelemetry/api, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("next/dist/compiled/@opentelemetry/api", () => require("next/dist/compiled/@opentelemetry/api"));

module.exports = mod;
}}),
"[externals]/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-page-turbo.runtime.dev.js, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js", () => require("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js"));

module.exports = mod;
}}),
"[externals]/next/dist/server/app-render/work-unit-async-storage.external.js [external] (next/dist/server/app-render/work-unit-async-storage.external.js, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("next/dist/server/app-render/work-unit-async-storage.external.js", () => require("next/dist/server/app-render/work-unit-async-storage.external.js"));

module.exports = mod;
}}),
"[externals]/next/dist/server/app-render/work-async-storage.external.js [external] (next/dist/server/app-render/work-async-storage.external.js, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("next/dist/server/app-render/work-async-storage.external.js", () => require("next/dist/server/app-render/work-async-storage.external.js"));

module.exports = mod;
}}),
"[externals]/next/dist/server/app-render/after-task-async-storage.external.js [external] (next/dist/server/app-render/after-task-async-storage.external.js, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("next/dist/server/app-render/after-task-async-storage.external.js", () => require("next/dist/server/app-render/after-task-async-storage.external.js"));

module.exports = mod;
}}),
"[project]/mgnrega-district-dashboard-main/mgnrega-district-dashboard-main/src/lib/mgnrega-data.ts [app-route] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
// District data structure for frontend
__turbopack_context__.s({
    "districts": (()=>districts),
    "generateMockDistrictData": (()=>generateMockDistrictData)
});
const districts = [
    {
        id: "1809",
        name: {
            en: "Ahmednagar",
            hi: "अहमदनगर"
        }
    },
    {
        id: "1823",
        name: {
            en: "Akola",
            hi: "अकोला"
        }
    },
    {
        id: "1824",
        name: {
            en: "Amravati",
            hi: "अमरावती"
        }
    },
    {
        id: "1817",
        name: {
            en: "Beed",
            hi: "बीड"
        }
    },
    {
        id: "1830",
        name: {
            en: "Bhandara",
            hi: "भंडारा"
        }
    },
    {
        id: "1825",
        name: {
            en: "Buldhana",
            hi: "बुलढाणा"
        }
    },
    {
        id: "1832",
        name: {
            en: "Chandrapur",
            hi: "चंद्रपुर"
        }
    },
    {
        id: "1834",
        name: {
            en: "Dharashiv",
            hi: "धाराशिव"
        }
    },
    {
        id: "1804",
        name: {
            en: "Dhule",
            hi: "धुळे"
        }
    },
    {
        id: "1833",
        name: {
            en: "Gadchiroli",
            hi: "गडचिरोली"
        }
    },
    {
        id: "1831",
        name: {
            en: "Gondia",
            hi: "गोंदिया"
        }
    },
    {
        id: "1818",
        name: {
            en: "Hingoli",
            hi: "हिंगोली"
        }
    },
    {
        id: "1819",
        name: {
            en: "Jalgaon",
            hi: "जळगाव"
        }
    },
    {
        id: "1816",
        name: {
            en: "Jalna",
            hi: "जालना"
        }
    },
    {
        id: "1812",
        name: {
            en: "Kolhapur",
            hi: "कोल्हापूर"
        }
    },
    {
        id: "1815",
        name: {
            en: "Latur",
            hi: "लातूर"
        }
    },
    {
        id: "1829",
        name: {
            en: "Nagpur",
            hi: "नागपूर"
        }
    },
    {
        id: "1820",
        name: {
            en: "Nanded",
            hi: "नांदेड"
        }
    },
    {
        id: "1803",
        name: {
            en: "Nandurbar",
            hi: "नंदुरबार"
        }
    },
    {
        id: "1802",
        name: {
            en: "Nashik",
            hi: "नाशिक"
        }
    },
    {
        id: "1835",
        name: {
            en: "Palghar",
            hi: "पालघर"
        }
    },
    {
        id: "1821",
        name: {
            en: "Parbhani",
            hi: "परभणी"
        }
    },
    {
        id: "1807",
        name: {
            en: "Pune",
            hi: "पुणे"
        }
    },
    {
        id: "1805",
        name: {
            en: "Raigad",
            hi: "रायगड"
        }
    },
    {
        id: "1810",
        name: {
            en: "Ratnagiri",
            hi: "रत्नागिरी"
        }
    },
    {
        id: "1813",
        name: {
            en: "Sangli",
            hi: "सांगली"
        }
    },
    {
        id: "1814",
        name: {
            en: "Satara",
            hi: "सातारा"
        }
    },
    {
        id: "1811",
        name: {
            en: "Sindhudurg",
            hi: "सिंधुदुर्ग"
        }
    },
    {
        id: "1808",
        name: {
            en: "Solapur",
            hi: "सोलापूर"
        }
    },
    {
        id: "1806",
        name: {
            en: "Thane",
            hi: "ठाणे"
        }
    },
    {
        id: "1828",
        name: {
            en: "Wardha",
            hi: "वर्धा"
        }
    },
    {
        id: "1826",
        name: {
            en: "Washim",
            hi: "वाशिम"
        }
    },
    {
        id: "1827",
        name: {
            en: "Yavatmal",
            hi: "यवतमाळ"
        }
    }
];
function generateMockDistrictData(districtId) {
    const district = districts.find((d)=>d.id === districtId);
    if (!district) {
        throw new Error("District not found");
    }
    const baseMetrics = {
        workCompleted: Math.floor(Math.random() * 500) + 300,
        fundsUtilized: Math.floor(Math.random() * 30) + 65,
        activeWorkers: Math.floor(Math.random() * 5000) + 10000,
        averageWage: Math.floor(Math.random() * 50) + 250,
        workCompletionRate: Math.floor(Math.random() * 20) + 75,
        fundUtilizationRate: Math.floor(Math.random() * 25) + 70,
        workerParticipation: Math.floor(Math.random() * 15) + 80
    };
    const monthlyData = Array.from({
        length: 12
    }, (_, i)=>({
            month: `Month ${i + 1}`,
            workCompleted: Math.floor(Math.random() * 50) + 20,
            fundsUtilized: Math.floor(Math.random() * 30) + 60,
            workers: Math.floor(Math.random() * 1000) + 800
        }));
    const categoryData = [
        {
            name: "Road Construction",
            value: 35,
            color: "hsl(var(--chart-1))"
        },
        {
            name: "Water Conservation",
            value: 25,
            color: "hsl(var(--chart-2))"
        },
        {
            name: "Agriculture",
            value: 20,
            color: "hsl(var(--chart-3))"
        },
        {
            name: "Infrastructure",
            value: 15,
            color: "hsl(var(--chart-4))"
        },
        {
            name: "Others",
            value: 5,
            color: "hsl(var(--chart-5))"
        }
    ];
    return {
        id: districtId,
        name: district.name,
        metrics: baseMetrics,
        monthlyData,
        categoryData,
        targetVsAchievement: {
            target: 100,
            achievement: baseMetrics.workCompletionRate
        }
    };
}
}}),
"[project]/mgnrega-district-dashboard-main/mgnrega-district-dashboard-main/src/app/api/mgnrega/route.ts [app-route] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "GET": (()=>GET)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$mgnrega$2d$district$2d$dashboard$2d$main$2f$mgnrega$2d$district$2d$dashboard$2d$main$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/mgnrega-district-dashboard-main/mgnrega-district-dashboard-main/node_modules/next/server.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$mgnrega$2d$district$2d$dashboard$2d$main$2f$mgnrega$2d$district$2d$dashboard$2d$main$2f$src$2f$lib$2f$mgnrega$2d$data$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/mgnrega-district-dashboard-main/mgnrega-district-dashboard-main/src/lib/mgnrega-data.ts [app-route] (ecmascript)");
;
;
// Simple in-memory cache
const cache = new Map();
const CACHE_DURATION = 5 * 60 * 1000; // 5 minutes
const monthNames = [
    "Jan",
    "Feb",
    "Mar",
    "Apr",
    "May",
    "Jun",
    "Jul",
    "Aug",
    "Sep",
    "Oct",
    "Nov",
    "Dec"
];
async function GET(request) {
    try {
        const { searchParams } = new URL(request.url);
        const districtId = searchParams.get("district");
        if (!districtId) {
            return __TURBOPACK__imported__module__$5b$project$5d2f$mgnrega$2d$district$2d$dashboard$2d$main$2f$mgnrega$2d$district$2d$dashboard$2d$main$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
                error: "District ID is required"
            }, {
                status: 400
            });
        }
        // Check cache
        const cached = cache.get(districtId);
        const now = Date.now();
        if (cached && now - cached.timestamp < CACHE_DURATION) {
            return __TURBOPACK__imported__module__$5b$project$5d2f$mgnrega$2d$district$2d$dashboard$2d$main$2f$mgnrega$2d$district$2d$dashboard$2d$main$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
                data: cached.data,
                cached: true,
                timestamp: cached.timestamp,
                source: "cache"
            });
        }
        // Try to fetch from database API first
        try {
            const baseUrl = process.env.NEXT_PUBLIC_BASE_URL || 'http://localhost:3000';
            const response = await fetch(`${baseUrl}/api/mgnrega-data?district=${districtId}`, {
                cache: 'no-store',
                signal: AbortSignal.timeout(5000) // 5 second timeout
            });
            if (response.ok) {
                const dbData = await response.json();
                // Transform database response to match frontend DistrictData interface
                const transformedData = {
                    id: dbData.district.districtCode,
                    name: {
                        en: dbData.district.districtNameEn,
                        hi: dbData.district.districtNameHi
                    },
                    metrics: {
                        workCompleted: dbData.performance?.workCompleted || 0,
                        fundsUtilized: dbData.performance?.fundsUtilizedPercentage || 0,
                        activeWorkers: dbData.performance?.activeWorkers || 0,
                        averageWage: dbData.performance?.averageWage || 0,
                        workCompletionRate: dbData.performance?.workCompletionRate || 0,
                        fundUtilizationRate: dbData.performance?.fundUtilizationRate || 0,
                        workerParticipation: dbData.performance?.workerParticipationRate || 0
                    },
                    monthlyData: dbData.monthlyTrends.reverse().map((trend)=>({
                            month: monthNames[trend.month - 1],
                            workCompleted: trend.workCompleted,
                            fundsUtilized: trend.fundsUtilized,
                            workers: trend.activeWorkers
                        })),
                    categoryData: dbData.categoryBreakdown.map((cat, index)=>({
                            name: cat.categoryName,
                            value: cat.percentage,
                            color: `hsl(var(--chart-${index % 5 + 1}))`
                        })),
                    targetVsAchievement: {
                        target: dbData.performance?.targetWorks || 100,
                        achievement: dbData.performance?.achievementWorks || 0
                    }
                };
                // Update cache
                cache.set(districtId, {
                    data: transformedData,
                    timestamp: now
                });
                return __TURBOPACK__imported__module__$5b$project$5d2f$mgnrega$2d$district$2d$dashboard$2d$main$2f$mgnrega$2d$district$2d$dashboard$2d$main$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
                    data: transformedData,
                    cached: false,
                    timestamp: now,
                    source: "database"
                });
            }
        } catch (dbError) {
            console.log("Database API not available, using mock data:", dbError);
        }
        // Fallback: Check if district exists in hardcoded list for mock data
        const district = __TURBOPACK__imported__module__$5b$project$5d2f$mgnrega$2d$district$2d$dashboard$2d$main$2f$mgnrega$2d$district$2d$dashboard$2d$main$2f$src$2f$lib$2f$mgnrega$2d$data$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["districts"].find((d)=>d.id === districtId);
        if (district) {
            console.log(`Generating mock data for district: ${district.name.en} (${districtId})`);
            const mockData = (0, __TURBOPACK__imported__module__$5b$project$5d2f$mgnrega$2d$district$2d$dashboard$2d$main$2f$mgnrega$2d$district$2d$dashboard$2d$main$2f$src$2f$lib$2f$mgnrega$2d$data$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["generateMockDistrictData"])(districtId);
            // Update cache with mock data
            cache.set(districtId, {
                data: mockData,
                timestamp: now
            });
            return __TURBOPACK__imported__module__$5b$project$5d2f$mgnrega$2d$district$2d$dashboard$2d$main$2f$mgnrega$2d$district$2d$dashboard$2d$main$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
                data: mockData,
                cached: false,
                timestamp: now,
                source: "mock",
                message: "Using simulated data. Database integration pending."
            });
        }
        // District not found in database or mock data
        return __TURBOPACK__imported__module__$5b$project$5d2f$mgnrega$2d$district$2d$dashboard$2d$main$2f$mgnrega$2d$district$2d$dashboard$2d$main$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
            error: "District data not available",
            districtId
        }, {
            status: 404
        });
    } catch (error) {
        console.error("MGNREGA API Error:", error);
        return __TURBOPACK__imported__module__$5b$project$5d2f$mgnrega$2d$district$2d$dashboard$2d$main$2f$mgnrega$2d$district$2d$dashboard$2d$main$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
            error: "Failed to fetch district data",
            message: error instanceof Error ? error.message : "Unknown error"
        }, {
            status: 500
        });
    }
}
}}),

};

//# sourceMappingURL=%5Broot-of-the-server%5D__b4af11fe._.js.map